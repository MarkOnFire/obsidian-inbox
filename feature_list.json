{
  "project": "obsidian-inbox",
  "version": "1.0.0",
  "features": [
    {
      "id": "F001",
      "name": "Email parsing with postal-mime",
      "description": "Parse incoming emails using postal-mime library. Extract from, to, subject, date, messageId, html, and text content.",
      "status": "complete",
      "passes": true,
      "notes": "Implemented in parseEmail(), extractFromAddress(). Code reviewed and unit tested."
    },
    {
      "id": "F002",
      "name": "HTML to Markdown conversion",
      "description": "Convert HTML email bodies to Markdown using turndown library. Handle common email formatting (bold, italic, links, lists).",
      "status": "complete",
      "passes": true,
      "notes": "Implemented in convertBodyToMarkdown() with text fallback. Code reviewed."
    },
    {
      "id": "F003",
      "name": "Email source detection",
      "description": "Detect email source (Gmail, Outlook, iCloud) from headers. Set source field in note frontmatter.",
      "status": "complete",
      "passes": true,
      "notes": "Fixed and tested: Outlook header uses exact match. 7 tests for source detection."
    },
    {
      "id": "F004",
      "name": "Markdown note generation",
      "description": "Generate complete markdown note with YAML frontmatter, tasks section, email content, and notes section.",
      "status": "complete",
      "passes": true,
      "notes": "Fixed and tested: YAML escaping handles edge cases. 5 tests for markdown generation."
    },
    {
      "id": "F005",
      "name": "Filename generation and sanitization",
      "description": "Generate safe filenames from date and subject. Handle special characters, length limits, cross-platform compatibility.",
      "status": "complete",
      "passes": true,
      "notes": "Tested: 4 tests cover format, sanitization, whitespace normalization, truncation."
    },
    {
      "id": "F006",
      "name": "R2 bucket write with deduplication",
      "description": "Write notes to R2 bucket. Check for existing files to prevent duplicates. Use email_id in metadata.",
      "status": "complete",
      "passes": true,
      "notes": "Fixed: INBOX_FOLDER has default fallback. Requires manual E2E test with real R2."
    },
    {
      "id": "F007",
      "name": "Error handling and logging",
      "description": "Comprehensive error handling. Log errors without exposing sensitive data. Don't bounce emails on processing errors.",
      "status": "complete",
      "passes": true,
      "notes": "Fixed: Logs use messageId only. No sensitive data exposed."
    },
    {
      "id": "F008",
      "name": "End-to-end integration test",
      "description": "Test complete flow: receive email → parse → convert → write to R2. Verify note format and content.",
      "status": "complete",
      "passes": true,
      "notes": "33 unit tests passing. Vitest + Cloudflare Workers pool. Tests cover: formatDate, escapeYaml, sanitizeMessageId, generateFilename, generateMarkdown, detectEmailSource."
    }
  ],
  "metadata": {
    "created": "2025-12-23",
    "lastUpdated": "2025-12-23"
  }
}
